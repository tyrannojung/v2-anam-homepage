// Language text definitions
var langTexts = {
	ko: {
		// Slider texts
		slider_main_title: "모듈러 지갑, 무한한 가능성",
		slider_main_subtitle: "AnamWallet이 <br> 당신의 디지털 세상을 연결합니다",
		slider_download_btn: "지금 다운로드",
		slider_coming_soon: "Coming Soon (9월 10일)",
		header_coming_soon: "Coming Soon",
		slider_youtube_btn: "YouTube",

		// Section 1
		section1_subtitle: "당신만의 방식으로, <br> 지갑을 새롭게",
		section1_check1: "내 취향대로 만드는 지갑",
		section1_check2: "원하는 블록체인 선택",
		section1_check3: "나만의 지갑 완성",
		section1_btn: "Go To Hub Page",
		section1_btn_coming: "Coming Soon",

		// Section 2
		section2_subtitle: "지자체와 함께하는 <br> 스마트 로컬 생활",
		section2_check1: "스킨 하나로 현지 생활 즉시 시작",
		section2_check2:
			"지자체 직접 운영 서비스부터 제휴 민간 서비스까지, 도시별 큐레이션된 생활 플랫폼",
		section2_check3: "부산광역시 공식 파트너",
		section2_btn: "View More Busan Wallet",
		section2_btn_coming: "Coming Soon",

		// Section 3
		section3_subtitle: "당신의 모든 디지털 자산, <br> 하나의 지갑에",
		section3_check1: "신분증부터 결제까지, 모든 것이 하나로",
		section3_check2:
			"디지털 신원부터 블록체인 자산까지 <br> 한 곳에서 관리하는 진짜 디지털 지갑",

		// Common banner
		common_banner_title: "AnamWallet에 <br> 더 궁금한 점이 있으신가요?",
		common_banner_btn: "Contact",

		// News search
		news_search_placeholder: "검색",
		news_search_button: "검색",
		news_search_title_content: "제목+내용",
		news_search_title: "제목",
		news_search_content: "내용",
		news_search_comment: "댓글",
		news_search_user_name: "사용자명",
		news_search_nick_name: "닉네임",
		news_search_user_id: "사용자ID",
		news_search_regdate: "등록일",
		news_search_tag: "태그",

		// About page
		about_subtitle: "AnamWallet을 소개합니다",
		about_main_title: "모듈형 지갑으로 <br> 무한한 가능성을 열다",
		about_main_desc:
			"현재 대부분의 가상자산 지갑은 불편하고 구조적 문제점을 가진<br>모놀리식(일체형) 구조를 가지고 있습니다.<br><br>우리는 이러한 문제점을 해결하기 위해 동적 확장, 격리된 보안,<br>사용자 편의 등을 고려한 세계 최초의 보안 중심<br>모듈형 가상자산 지갑을 제안합니다.",
		about_history_title: "우리가 걸어온 길",
		about_history_2023_h1: "2023 상반기",
		about_history_2023_h2: "2023 하반기",
		about_team_title: "AnamWallet과 함께하는 사람들",
		// Team member names
		member_name_lee: "이중희",
		member_name_kim: "김영선",
		member_name_park: "박종혁",
		// History content items by year and month
		history_2025_01: "CES 2025 참가 (고려대학교 단독관)",
		history_2025_05: "기업부설연구소 설립",
		history_2025_09: "부산월렛 정식 출시 (예정)",
		history_2024_04: "아브코 연구소 위탁 운영 계약 체결 | (5년, 총 9억)",
		history_2024_08:
			"중소기업기술정보진흥원 창업성장기술 개발사업 디딤돌 성장네트워크 R&D 과제 선정 | (1년, 총 1.2억)",
		"history_2023 하반기_12": "아브코 CTO Advisory 계약 체결 | (3년, 총 3.6억)",
		"history_2023 상반기_03": "안암145 설립",
		"history_2023 상반기_04": "예비창업패키지 선정|Tokamak GrantTON 선정",
		about_people_title: "이중희 교수, 공학박사(대표이사)",
		about_ceo_para1:
			'이중희 교수는 사이버보안 및 블록체인 기술 분야의 세계적으로 저명한 학자이자 산업 리더입니다. 미국 조지아 공과대학교(Georgia Tech)에서 공학 박사 학위를 취득했으며, 현재 "한국의 아이비리그"로 불리는 고려대학교에서 사이버보안 정교수로 재직하고 있습니다.',
		about_ceo_para2:
			"이 교수는 SCI 최상위 저널에 다수의 논문을 발표하며 정보보안 분야의 글로벌 권위자로 자리매김했습니다. 학계를 넘어 블록체인 및 사이버보안 선도 기업인 안암145를 공동 창업했으며, 현재 한국 제2의 도시인 부산을 위한 차세대 모듈형 블록체인 지갑을 제공하고 있습니다.",
		about_ceo_para3:
			"심도 있는 학술 연구와 실제 블록체인 인프라를 연결하는 그의 전문성은 한국과 국제 파트너 모두를 위한 안전하고 투명하며 확장 가능한 디지털 금융 시스템 구축의 최전선에 위치시킵니다.",
		about_papers_title: "주요 논문",
		security_subtitle: "AnamWallet의 아키텍처",
		security_scenario_title: "악성 모듈 시나리오",
		security_zero_trust: "Zero Trust 아키텍처",
		security_zero_trust_desc1: "모든 모듈은 잠재적 위협으로 간주",
		security_zero_trust_desc2: "악성 모듈 존재 가정한 설계",
		security_e2e_title: "종간단 암호화 통신",
		security_e2e_desc1: "IPC Binder + 추가 암호화 레이어",
		security_e2e_desc2: "비대칭키 교환 대칭키 통신",
		security_e2e_desc3: "도청/ 변조 원천 차단",
		security_process_title: "프로세스 격리",
		security_process_desc1: "모듈별 독립 프로세스 실행",
		security_process_desc2: "메모리 직접 접근 차단",
		security_filesystem_title: "파일 시스템 격리",
		security_filesystem_desc1: "모듈별 전용 디렉토리 할당",
		security_filesystem_desc2: "타 모듈 키 파일 접근 불가",
		security_filesystem_desc3: "삭제/덮어쓰기 공격 무력화",
		security_architecture_title: "아키텍처의 확실한 보안성",
		security_architecture_subtitle:
			"직접 통제하고, 직접 확인하는 Anam Wallet의 새로운 보안 방식",
		security_patents_title: "AnamWallet의 특허 소개",

		// Contact form translations
		contact_inquiry_content: "문의 내용",
		contact_name_label: "이름",
		contact_phone_label: "연락처",
		contact_name_placeholder: "이름을 입력해 주세요.",
		contact_phone_placeholder: "연락처를 입력해 주세요.",
		contact_content_placeholder: "문의 내용을 입력해 주세요.",
		contact_privacy_agree: "개인정보처리방침에 동의합니다.",
		contact_privacy_detail: "[자세히보기]",
		contact_alert_privacy: "개인정보수집 및 이용약관에 동의해 주세요.",
		contact_alert_name: "이름을 입력해 주세요.",
		contact_alert_phone: "연락처를 입력해 주세요.",
		contact_alert_phone_format: "연락처를 형식에 맞게 입력해 주세요.",
		contact_alert_content: "문의 내용을 입력해 주세요.",

		// Footer translations
		footer_privacy: "개인정보처리방침",
		footer_company: "안암145",
		footer_ceo: "대표",
		footer_ceo_name: "이중희/심준식",
		footer_phone: "대표 전화",
		footer_email: "이메일",
		footer_fax: "팩스",
		footer_business_number: "사업자 등록번호",
		footer_address: "주소",
		footer_address_detail:
			"서울특별시 성북구 안암로 145, 고려대학교 로봇융합관 308호(안암동5가)",
		footer_copyright: "Copyright 2025. 안암145 Co. All rights reserved.",

		// News section translations
		news_title: "News",
		news_subtitle: "AnamWallet의 각종 소식",
		security_slide1_text:
			"셀프 커스터디 방식은 사용자가 자금을 직접<br>통제한다는 의미입니다.<br>저희는 절대 접근할 수 없습니다.",
		security_slide2_text:
			"항상 자신이 무엇에 로그인 하는지,<br>무엇에 서명하는지 정확히 알 수 있습니다.",
		security_slide3_text:
			"자유로운 모듈 설치, 철저한 보안 격리.<br>신뢰하지 않음으로써 더 안전합니다.",
		security_slide4_text:
			"탈중앙화 신원(DID)으로 완성한 절대 보안.<br>해킹할 중앙 서버가 없고, 유출될 비밀번호도<br>없습니다.",
		security_con3_title: "즉시 발급, 자기주권",
		security_con3_desc:
			"복잡한 서류 없이, 대기 시간 없이<br>스마트폰에서 즉시 DID 발급.<br><br>✅ QR코드 스캔 한 번으로 본인 인증<br>✅ 완벽한 프라이버시 보장<br>✅ 자기주권 신원 관리",
		security_con4_title: "간편한 접속, 최고의 보안",
		security_con4_desc:
			"복잡한 시드 구문과 개인키는 이제 그만.<br>매일 사용하는 계정으로 암호화폐 지갑에<br>즉시 접속하세요.<br><br>✅ 구글/애플 ID로 원클릭 로그인<br>✅ 시드 구문 암기 불필요<br>✅ 소셜 복구로 자산 접근 보장",
		contact_subtitle: "언제든 편하게 문의 주세요",
		contact_banner_text: "AnamWallet에 <br> 더 궁금한 점이 있으신가요?",
		// Contact form
		contact_name_label: "이름",
		contact_name_placeholder: "이름을 입력해 주세요.",
		contact_contact_label: "연락처",
		contact_contact_placeholder: "연락처를 입력해 주세요.",
		contact_content_label: "문의 내용",
		contact_content_placeholder: "문의 내용을 입력해 주세요.",
		contact_privacy_agreement: "개인정보처리방침에 동의합니다.",
		contact_privacy_link: "[자세히보기]",
		contact_submit_btn: "Submit",
	},
	en: {
		// Slider texts
		slider_main_title: "Modular Wallet, Infinite Possibilities",
		slider_main_subtitle: "AnamWallet connects <br> your digital world",
		slider_download_btn: "Download Now",
		slider_coming_soon: "Coming Soon (Sep 10)",
		header_coming_soon: "Coming Soon",
		slider_youtube_btn: "YouTube",

		// Section 1
		section1_subtitle: "Reinvent your wallet, <br> your way",
		section1_check1: "Customize your wallet to your taste",
		section1_check2: "Choose your blockchain",
		section1_check3: "Complete your own wallet",
		section1_btn: "Go To Hub Page",
		section1_btn_coming: "Coming Soon",

		// Section 2
		section2_subtitle: "Smart local living <br> with municipalities",
		section2_check1: "Start local life immediately with one skin",
		section2_check2:
			"City-curated living platform from government services to partnered private services",
		section2_check3: "Official partner of Busan Metropolitan City",
		section2_btn: "View More Busan Wallet",
		section2_btn_coming: "Coming Soon",

		// Section 3
		section3_subtitle: "All your digital assets, <br> in one wallet",
		section3_check1: "From ID to payments, everything in one",
		section3_check2:
			"The real digital wallet that manages <br> digital identity to blockchain assets in one place",

		// Common banner
		common_banner_title: "Have more questions <br> about AnamWallet?",
		common_banner_btn: "Contact",

		// News search
		news_search_placeholder: "Search",
		news_search_button: "Search",
		news_search_title_content: "Subject+Content",
		news_search_title: "Subject",
		news_search_content: "Content",
		news_search_comment: "Comment",
		news_search_user_name: "User Name",
		news_search_nick_name: "Nick Name",
		news_search_user_id: "User ID",
		news_search_regdate: "Registered Date",
		news_search_tag: "Tag",

		// About page
		about_subtitle: "Introducing AnamWallet",
		about_main_title: "Opening Infinite Possibilities <br> with Modular Wallet",
		about_main_desc:
			"Currently, most cryptocurrency wallets have an inconvenient<br>monolithic structure with structural problems.<br><br>To solve these problems, we propose the world's first<br>security-focused modular cryptocurrency wallet<br>considering dynamic expansion, isolated security, and user convenience.",
		about_history_title: "Our Journey",
		about_history_2023_h1: "2023 First Half",
		about_history_2023_h2: "2023 Second Half",
		about_team_title: "People with AnamWallet",
		// Team member names
		member_name_lee: "Junghee Lee",
		member_name_kim: "Youngsun Kim",
		member_name_park: "Jonghyuk Park",
		// History content items by year and month
		history_2025_01: "Participation in CES 2025 (Korea University Pavilion)",
		history_2025_05: "Establishment of Corporate Research Institute",
		history_2025_09: "Official Launch of Busan Wallet (Scheduled)",
		history_2024_04:
			"Signed ABKO Research Institute Management Contract | (5 years, 900 million KRW)",
		history_2024_08:
			"Selected for KTSEP Startup Growth Technology Development Project Stepping Stone Growth Network R&D | (1 year, 120 million KRW)",
		"history_2023 하반기_12":
			"Signed ABKO CTO Advisory Contract | (3 years, 360 million KRW)",
		"history_2023 상반기_03": "Established Anam145",
		"history_2023 상반기_04":
			"Selected for Pre-Startup Package|Selected for Tokamak GrantTON",
		about_people_title: "Professor Joonghee Lee, Ph.D.(CEO)",
		about_ceo_para1:
			'Dr. Joonghee Lee is a world-renowned scholar and industry leader in cybersecurity and blockchain technology. He earned his Ph.D. in Engineering from the Georgia Institute of Technology (Georgia Tech, USA) and currently serves as a Full Professor of Cybersecurity at Korea University, often referred to as the "Ivy League of Korea."',
		about_ceo_para2:
			"Professor Lee has published numerous papers in SCI top-tier journals, establishing himself as a global authority in information security. Beyond academia, he co-founded Anam145, a leading blockchain and cybersecurity company, which is now delivering next-generation modular blockchain wallets for South Korea's second-largest city, Busan.",
		about_ceo_para3:
			"His unique expertise—bridging deep academic research with real-world blockchain infrastructure—positions him at the forefront of building secure, transparent, and scalable digital financial systems for both Korea and international partners.",
		about_papers_title: "Key Publications",
		security_subtitle: "AnamWallet Architecture",
		security_scenario_title: "Malicious Module Scenario",
		security_zero_trust: "Zero Trust Architecture",
		security_zero_trust_desc1: "All modules are considered potential threats",
		security_zero_trust_desc2: "Design assumes presence of malicious modules",
		security_e2e_title: "End-to-End Encrypted Communication",
		security_e2e_desc1: "IPC Binder + Additional encryption layer",
		security_e2e_desc2: "Asymmetric key exchange, symmetric key communication",
		security_e2e_desc3: "Complete prevention of eavesdropping/tampering",
		security_process_title: "Process Isolation",
		security_process_desc1: "Independent process execution per module",
		security_process_desc2: "Direct memory access blocked",
		security_filesystem_title: "File System Isolation",
		security_filesystem_desc1: "Dedicated directory allocation per module",
		security_filesystem_desc2: "Other modules cannot access key files",
		security_filesystem_desc3: "Delete/overwrite attacks neutralized",
		security_architecture_title: "Robust Security Architecture",
		security_architecture_subtitle:
			"Anam Wallet's new security approach: Direct control and verification",
		security_patents_title: "AnamWallet Patents",

		// Contact form translations
		contact_inquiry_content: "Inquiry Content",
		contact_name_label: "Name",
		contact_phone_label: "Contact",
		contact_name_placeholder: "Please enter your name",
		contact_phone_placeholder: "Please enter your contact information",
		contact_content_placeholder: "Please enter your inquiry",
		contact_privacy_agree: "I agree to the privacy policy.",
		contact_privacy_detail: "[View Details]",
		contact_alert_privacy: "Please agree to the privacy policy and terms.",
		contact_alert_name: "Please enter your name.",
		contact_alert_phone: "Please enter your contact information.",
		contact_alert_phone_format: "Please enter a valid phone number format.",
		contact_alert_content: "Please enter your inquiry content.",

		// Footer translations
		footer_privacy: "Privacy Policy",
		footer_company: "Anam145",
		footer_ceo: "CEO",
		footer_ceo_name: "Junghee Lee/Junsik Sim",
		footer_phone: "Tel",
		footer_email: "Email",
		footer_fax: "Fax",
		footer_business_number: "Business Registration Number",
		footer_address: "Address",
		footer_address_detail:
			"308, Korea University Robot Convergence Center, 145 Anam-ro, Seongbuk-gu, Seoul",
		footer_copyright: "Copyright 2025. Anam145 Co. All rights reserved.",

		// News section translations
		news_title: "News",
		news_subtitle: "Latest News from AnamWallet",
		security_slide1_text:
			"Self-custody means users have direct<br>control over their funds.<br>We have absolutely no access.",
		security_slide2_text:
			"You always know exactly what you're<br>logging into and what you're signing.",
		security_slide3_text:
			"Free module installation, thorough security isolation.<br>More secure through zero trust.",
		security_slide4_text:
			"Absolute security with Decentralized Identity (DID).<br>No central server to hack,<br>no passwords to leak.",
		security_con3_title: "Instant Issuance, Self-Sovereignty",
		security_con3_desc:
			"Instant DID issuance on smartphone<br>without complex documents or waiting time.<br><br>✅ Identity verification with single QR code scan<br>✅ Complete privacy guaranteed<br>✅ Self-sovereign identity management",
		security_con4_title: "Seamless Access, Maximum Security",
		security_con4_desc:
			"Say goodbye to complex seed phrases and private keys.<br>Access your crypto wallet instantly with the accounts<br>you already use every day.<br><br>✅ One-click login with Google or Apple ID<br>✅ No seed phrases to remember or lose<br>✅ Social recovery ensures asset access",
		contact_subtitle: "Feel free to contact us anytime",
		contact_banner_text: "Have more questions <br> about AnamWallet?",
		// Contact form
		contact_name_label: "Name",
		contact_name_placeholder: "Please enter your name",
		contact_contact_label: "Contact",
		contact_contact_placeholder: "Please enter your contact information",
		contact_content_label: "Inquiry",
		contact_content_placeholder: "Please enter your inquiry",
		contact_privacy_agreement: "I agree to the Privacy Policy",
		contact_privacy_link: "[View Details]",
		contact_submit_btn: "Submit",
	},
};

// Get current language from cookie
function getCurrentLang() {
	var lang = "en"; // default to English
	var cookies = document.cookie.split(";");
	for (var i = 0; i < cookies.length; i++) {
		var cookie = cookies[i].trim();
		if (cookie.indexOf("rx_lang=") === 0) {
			lang = cookie.substring(8);
			break;
		}
	}
	return lang;
}

// Apply language texts
function applyLanguageTexts() {
	var lang = getCurrentLang();
	var texts = langTexts[lang] || langTexts["en"];

	// Apply texts to elements with data-lang attribute
	document.querySelectorAll("[data-lang]").forEach(function (element) {
		var key = element.getAttribute("data-lang");
		if (texts[key]) {
			element.innerHTML = texts[key];
		}
	});

	// Apply placeholder for News search input
	var searchInput = document.querySelector('input[name="search_keyword"]');
	if (searchInput && texts["news_search_placeholder"]) {
		searchInput.setAttribute("placeholder", texts["news_search_placeholder"]);
	}

	// Apply search button text
	var searchButton = document.querySelector(".bh_bd_btn");
	if (searchButton && texts["news_search_button"]) {
		searchButton.textContent = texts["news_search_button"];
	}

	// Apply search target select options
	var searchSelect = document.querySelector('select[name="search_target"]');
	if (searchSelect) {
		var options = searchSelect.querySelectorAll("option");
		options.forEach(function (option) {
			var value = option.value;
			var key = "news_search_" + value.replace(/_/g, "_");
			if (texts[key]) {
				option.textContent = texts[key];
			}
		});
	}

	// Apply history content translations based on year and month
	document
		.querySelectorAll(".item_con[data-year][data-month]")
		.forEach(function (item) {
			var year = item.getAttribute("data-year");
			var month = item.getAttribute("data-month");
			var key = "history_" + year + "_" + month;

			var contentElement = item.querySelector(".history-content");
			if (contentElement && texts[key]) {
				// Handle multiple lines separated by |
				var translatedText = texts[key].replace(
					/\|/g,
					'</p><p class="history-content">'
				);
				contentElement.innerHTML = translatedText;

				// If there are multiple p tags after the first one, remove and re-add them
				var siblings =
					contentElement.parentNode.querySelectorAll(".history-content");
				if (siblings.length > 1) {
					for (var i = 1; i < siblings.length; i++) {
						siblings[i].remove();
					}
				}

				// Add additional paragraphs if needed
				if (translatedText.indexOf("</p><p") > -1) {
					var parts = translatedText.split('</p><p class="history-content">');
					contentElement.innerHTML = parts[0];
					for (var i = 1; i < parts.length; i++) {
						var newP = document.createElement("p");
						newP.className = "history-content";
						newP.innerHTML = parts[i];
						contentElement.parentNode.appendChild(newP);
					}
				}
			}
		});

	// Apply team member name translations
	document.querySelectorAll(".member-name").forEach(function (element) {
		var currentText = element.textContent.trim();
		console.log(
			"Processing member name:",
			currentText,
			"Language:",
			lang,
			"Element:",
			element
		);

		// If we're switching to English
		if (lang === "en") {
			// Check if this is a Korean name we know
			if (
				currentText === "이중희" ||
				originalTexts["member_이중희"] === currentText
			) {
				console.log("Translating 이중희 to Junghee Lee");
				element.textContent = "Junghee Lee";
			} else if (
				currentText === "김영선" ||
				originalTexts["member_김영선"] === currentText
			) {
				element.textContent = "Youngsun Kim";
			} else if (
				currentText === "박종혁" ||
				originalTexts["member_박종혁"] === currentText
			) {
				element.textContent = "Jonghyuk Park";
			}
		}
		// If we're switching to Korean
		else if (lang === "ko") {
			// Restore original Korean names
			if (currentText === "Junghee Lee") {
				console.log("Restoring Junghee Lee to 이중희");
				element.textContent = originalTexts["member_이중희"] || "이중희";
			} else if (currentText === "Youngsun Kim") {
				element.textContent = originalTexts["member_김영선"] || "김영선";
			} else if (currentText === "Jonghyuk Park") {
				element.textContent = originalTexts["member_박종혁"] || "박종혁";
			}
		}
	});
}

// Store original texts
var originalTexts = {};

// Store original texts on page load and apply current language
document.addEventListener("DOMContentLoaded", function () {
	// Store original history content
	document
		.querySelectorAll(".history-content")
		.forEach(function (element, index) {
			originalTexts["history_" + index] = element.innerHTML;
		});

	// Use setTimeout to ensure member elements are loaded
	setTimeout(function () {
		// Store original member names
		document.querySelectorAll(".member-name").forEach(function (element) {
			var name = element.textContent.trim();
			console.log("Storing member name:", name);
			if (name === "이중희") {
				originalTexts["member_이중희"] = name;
			} else if (name === "김영선") {
				originalTexts["member_김영선"] = name;
			} else if (name === "박종혁") {
				originalTexts["member_박종혁"] = name;
			}
		});

		// Apply language texts
		applyLanguageTexts();
	}, 100);

	// Apply language texts immediately for non-member elements
	applyLanguageTexts();
});
