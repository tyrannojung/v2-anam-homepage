<load target="css/editor_module_config.css" />
<load target="js/editor_module_config.js" />

<form action="./" method="post" class="section">
	<input type="hidden" name="act" value="procEditorInsertModuleConfig" />
	<input type="hidden" name="module" value="editor" />
	<input type="hidden" name="target_module_srl" value="{!empty($module_info->module_srl) ? $module_info->module_srl : $module_srls}" />
	<input type="hidden" name="success_return_url" value="{getRequestUriByServerEnviroment()}" />
	<input type="hidden" name="xe_validator_id" value="modules/editor/addition_setup/1" />
    <h1>{$lang->editor}</h1>
	<table class="x_table x_table-striped x_table-hover">
		<thead>
			<tr>
				<th scope="col" style="width:160px">&nbsp;</th>
				<th scope="col">{$lang->document}</th>
				<th scope="col">{$lang->comment}</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<th scope="row" style="text-align:right">{$lang->default_editor_settings}</th>
				<td colspan="2">
					<label for="default_editor_settings" class="x_inline">
						<input type="checkbox" value="Y" id="default_editor_settings" name="default_editor_settings" checked="checked"|cond="$editor_config->default_editor_settings!=='N'" />
						{$lang->about_default_editor_settings}
					</label>
				</td>
			</tr>
			<tr class="editor_skin">
				<th scope="row" style="text-align:right">{$lang->pc}</th>
				<td>
					<p>
						<select name="editor_skin" class="editor_skin_selector">
							<!--@foreach($editor_skin_list as $skin_name => $skin_info)-->
								<option value="{$skin_name}" data-colorsets="{json_encode($skin_info->colorset)|escape}" selected="selected"|cond="$skin_name === $editor_config->editor_skin">{$skin_info->title}</option>
							<!--@endforeach-->
						</select>
						<select name="editor_colorset" class="editor_colorset_selector">
							<!--@foreach($editor_skin_list[$editor_config->editor_skin]->colorset ?: [] as $colorset)-->
								<option value="{$colorset->name}" selected="selected"|cond="$colorset->name === $editor_config->editor_colorset">{$colorset->title}</option>
							<!--@endforeach-->
						</select>
					</p>
					<p>
						<span class="editor_type">{$lang->guide_editor_height}</span>
						<input type="number" name="editor_height" value="{$editor_config->editor_height}" /> px
					</p>
					<p>
						<span class="editor_type">{$lang->guide_editor_toolbar}</span>
						<select name="editor_toolbar" style="min-width:104px">
							<option value="default" selected="selected"|cond="!$editor_config->editor_toolbar || $editor_config->editor_toolbar === 'default'">{$lang->editor_toolbar_default}</option>
							<option value="simple" selected="selected"|cond="$editor_config->editor_toolbar === 'simple'">{$lang->editor_toolbar_simple}</option>
						</select> &nbsp;
						<label class="x_inline"><input type="checkbox" name="editor_toolbar_hide" value="Y" checked="checked"|cond="$editor_config->editor_toolbar_hide === 'Y'"> {$lang->editor_toolbar_hide}</label>
					</p>
				</td>
				<td>
					<p>
						<select name="comment_editor_skin" class="editor_skin_selector">
							<!--@foreach($editor_skin_list as $skin_name => $skin_info)-->
								<option value="{$skin_name}" data-colorsets="{json_encode($skin_info->colorset)|escape}" selected="selected"|cond="$skin_name === $editor_config->comment_editor_skin">{$skin_info->title}</option>
							<!--@endforeach-->
						</select>
						<select name="comment_editor_colorset" class="editor_colorset_selector">
							<!--@foreach($editor_skin_list[$editor_config->comment_editor_skin]->colorset ?: [] as $colorset)-->
								<option value="{$colorset->name}" selected="selected"|cond="$colorset->name === $editor_config->comment_editor_colorset">{$colorset->title}</option>
							<!--@endforeach-->
						</select>
					</p>
					<p>
						<span class="editor_type">{$lang->guide_editor_height}</span>
						<input type="number" name="comment_editor_height" value="{$editor_config->comment_editor_height}" /> px
					</p>
					<p>
						<span class="editor_type">{$lang->guide_editor_toolbar}</span>
						<select name="comment_editor_toolbar" style="min-width:104px">
							<option value="default" selected="selected"|cond="!$editor_config->comment_editor_toolbar || $editor_config->comment_editor_toolbar === 'default'">{$lang->editor_toolbar_default}</option>
							<option value="simple" selected="selected"|cond="$editor_config->comment_editor_toolbar === 'simple'">{$lang->editor_toolbar_simple}</option>
						</select> &nbsp;
						<label class="x_inline"><input type="checkbox" name="comment_editor_toolbar_hide" value="Y" checked="checked"|cond="$editor_config->comment_editor_toolbar_hide === 'Y'"> {$lang->editor_toolbar_hide}</label>
					</p>
				</td>
			</tr>
			<tr class="editor_skin">
				<th scope="row" style="text-align:right">{$lang->mobile}</th>
				<td>
					<p>
						<select name="mobile_editor_skin" class="editor_skin_selector">
							<!--@foreach($editor_skin_list as $skin_name => $skin_info)-->
							<option value="{$skin_name}" data-colorsets="{json_encode($skin_info->colorset)|escape}" selected="selected"|cond="$skin_name === $editor_config->mobile_editor_skin">{$skin_info->title}</option>
							<!--@endforeach-->
						</select>
						<select name="mobile_editor_colorset" class="editor_colorset_selector">
							<!--@foreach($editor_skin_list[$editor_config->mobile_editor_skin]->colorset ?: [] as $colorset)-->
								<option value="{$colorset->name}" selected="selected"|cond="$colorset->name === $editor_config->mobile_editor_colorset">{$colorset->title}</option>
							<!--@endforeach-->
						</select>
					</p>
					<p>
						<span class="editor_type">{$lang->guide_editor_height}</span>
						<input type="number" name="mobile_editor_height" value="{$editor_config->mobile_editor_height}" /> px</p>
					</p>
					<p>
						<span class="editor_type">{$lang->guide_editor_toolbar}</span>
						<select name="mobile_editor_toolbar" style="min-width:104px">
							<option value="default" selected="selected"|cond="!$editor_config->mobile_editor_toolbar || $editor_config->mobile_editor_toolbar === 'default'">{$lang->editor_toolbar_default}</option>
							<option value="simple" selected="selected"|cond="$editor_config->mobile_editor_toolbar === 'simple'">{$lang->editor_toolbar_simple}</option>
						</select> &nbsp;
						<label class="x_inline"><input type="checkbox" name="mobile_editor_toolbar_hide" value="Y" checked="checked"|cond="$editor_config->mobile_editor_toolbar_hide === 'Y'"> {$lang->editor_toolbar_hide}</label>
					</p>
				</td>
				<td>
					<p>
						<select name="mobile_comment_editor_skin" class="editor_skin_selector">
							<!--@foreach($editor_skin_list as $skin_name => $skin_info)-->
							<option value="{$skin_name}" data-colorsets="{json_encode($skin_info->colorset)|escape}" selected="selected"|cond="$skin_name === $editor_config->mobile_comment_editor_skin">{$skin_info->title}</option>
							<!--@endforeach-->
						</select>
						<select name="mobile_comment_editor_colorset" class="editor_colorset_selector">
							<!--@foreach($editor_skin_list[$editor_config->mobile_comment_editor_skin]->colorset ?: [] as $colorset)-->
								<option value="{$colorset->name}" selected="selected"|cond="$colorset->name === $editor_config->mobile_comment_editor_colorset">{$colorset->title}</option>
							<!--@endforeach-->
						</select>
					</p>
					<p>
						<span class="editor_type">{$lang->guide_editor_height}</span>
						<input type="number" name="mobile_comment_editor_height" value="{$editor_config->mobile_comment_editor_height}" /> px</p>
					</p>
					<p>
						<span class="editor_type">{$lang->guide_editor_toolbar}</span>
						<select name="mobile_comment_editor_toolbar" style="min-width:104px">
							<option value="default" selected="selected"|cond="!$editor_config->mobile_comment_editor_toolbar || $editor_config->mobile_comment_editor_toolbar === 'default'">{$lang->editor_toolbar_default}</option>
							<option value="simple" selected="selected"|cond="$editor_config->mobile_comment_editor_toolbar === 'simple'">{$lang->editor_toolbar_simple}</option>
						</select> &nbsp;
						<label class="x_inline"><input type="checkbox" name="mobile_comment_editor_toolbar_hide" value="Y" checked="checked"|cond="$editor_config->mobile_comment_editor_toolbar_hide === 'Y'"> {$lang->editor_toolbar_hide}</label>
					</p>
				</td>
			</tr>
			<tr class="editor_skin">
				<th scope="row" style="text-align:right"><label for="content_font">{$lang->content_font}</label></th>
				<td colspan="2">
					<label class="x_inline fontSelector">
						<input type="radio" name="content_font" id="font_noFont" value="" checked="checked"|cond="!$editor_config->content_font && $editor_config->font_defined != 'Y'" /> none (inherit)
					</label>
					<label style="font-family:{$detail}" class="x_inline fontSelector" loop="$lang->edit->fontlist=>$name,$detail">
						{@ $fontname_simplified = trim(array_first(explode(',', $detail)), "'\" ")}
						<input type="radio" name="content_font" id="font_{$name}" value="{$detail}" checked="checked"|cond="$editor_config->content_font == $detail && $editor_config->font_defined != 'Y'" /> {$fontname_simplified}
					</label>
					<label>
						<input type="radio" class="fontSelector" name="font_defined" id="font_defined" value="Y" checked="checked"|cond="isset($editor_config->font_defined) && $editor_config->font_defined == 'Y'" /> {$lang->by_you} :
						<input type="text" name="content_font_defined" value="{$editor_config->content_font}"|cond="isset($editor_config->font_defined) && $editor_config->font_defined == 'Y'" />
					</label>
				</td>
			</tr>
			<tr class="editor_skin">
				<th scope="row" style="text-align:right"><label for="content_font_size">{$lang->content_font_size}</label></th>
				<td colspan="2">
					<input type="text" id="font_size" name="content_font_size" value="{$editor_config->content_font_size ?: 13}" />
					<p class="x_help-inline">{$lang->about_unit_default_px}</p>
				</td>
			</tr>
			<tr class="editor_skin">
				<th scope="row" style="text-align:right">{$lang->enable_autosave}</th>
				<td colspan="2">
					<label class="x_inline"><input type="radio" name="enable_autosave" value="Y" checked="checked"|cond="$editor_config->enable_autosave != 'N'" /> {$lang->cmd_yes}</label>
					<label class="x_inline"><input type="radio" name="enable_autosave" value="N" checked="checked"|cond="$editor_config->enable_autosave == 'N'" /> {$lang->cmd_no}</label>
					<p class="x_help-inline">{$lang->about_enable_autosave}</p>
				</td>
			</tr>
			<tr class="editor_skin">
				<th scope="row" style="text-align:right">{$lang->editor_auto_dark_mode}</th>
				<td colspan="2">
					<label class="x_inline"><input type="radio" name="auto_dark_mode" value="Y" checked="checked"|cond="$editor_config->auto_dark_mode != 'N'" /> {$lang->cmd_yes}</label>
					<label class="x_inline"><input type="radio" name="auto_dark_mode" value="N" checked="checked"|cond="$editor_config->auto_dark_mode == 'N'" /> {$lang->cmd_no}</label>
					<p class="x_help-inline">{$lang->about_editor_auto_dark_mode}</p>
				</td>
			</tr>
			<tr class="editor_skin">
				<th scope="row" style="text-align:right">{$lang->allow_html}</th>
				<td colspan="2">
					<label class="x_inline"><input type="radio" name="allow_html" value="Y" checked="checked"|cond="$editor_config->allow_html != 'N'" /> {$lang->cmd_yes}</label>
					<label class="x_inline"><input type="radio" name="allow_html" value="N" checked="checked"|cond="$editor_config->allow_html == 'N'" /> {$lang->cmd_no}</label>
				</td>
			</tr>
			<tr>
				<th scope="row" style="text-align:right">{$lang->enable_html_grant}</th>
				<td>
					<label loop="$group_list => $k, $v" for="enable_html_{$k}" class="x_inline"><input type="checkbox" name="enable_html_grant[]" value="{$k}" id="enable_html_{$k}" checked="checked"|cond="in_array($k, $editor_config->enable_html_grant)" /> {$v->title}</label>
				</td>
				<td>
					<label loop="$group_list => $k, $v" for="enable_comment_html_{$k}" class="x_inline"><input type="checkbox" name="enable_comment_html_grant[]" value="{$k}" id="enable_comment_html_{$k}" checked="checked"|cond="in_array($k, $editor_config->enable_comment_html_grant)" /> {$v->title}</label>
				</td>
			</tr>
			<tr>
				<th scope="row" style="text-align:right">{$lang->upload_file_grant}</th>
				<td>
					<label loop="$group_list => $k, $v" for="fileupload_{$k}" class="x_inline"><input type="checkbox" name="upload_file_grant[]" value="{$k}" id="fileupload_{$k}" checked="checked"|cond="in_array($k, $editor_config->upload_file_grant)" /> {$v->title}</label>
				</td>
				<td>
					<label loop="$group_list => $k, $v" for="comment_fileupload_{$k}" class="x_inline"><input type="checkbox" name="comment_upload_file_grant[]" value="{$k}" id="comment_fileupload_{$k}" checked="checked"|cond="in_array($k, $editor_config->comment_upload_file_grant)" /> {$v->title}</label>
				</td>
			</tr>
			<tr>
				<th scope="row" style="text-align:right">{$lang->enable_default_component_grant}</th>
				<td>
					<label loop="$group_list => $k, $v" for="default_componen_{$k}" class="x_inline"><input type="checkbox" name="enable_default_component_grant[]" value="{$k}" id="default_componen_{$k}" checked="checked"|cond="in_array($k, $editor_config->enable_default_component_grant)" /> {$v->title}</label>
				</td>
				<td>
					<label loop="$group_list => $k, $v" for="comment_default_component_{$k}" class="x_inline"><input type="checkbox" name="enable_comment_default_component_grant[]" value="{$k}" id="comment_default_component_{$k}" checked="checked"|cond="in_array($k, $editor_config->enable_comment_default_component_grant)" /> {$v->title}</label>
				</td>
			</tr>
			<tr>
				<th scope="row" style="text-align:right">{$lang->enable_extra_component_grant}</th>
				<td>
					<label loop="$group_list => $k, $v" for="componen_{$k}" class="x_inline"><input type="checkbox" name="enable_component_grant[]" value="{$k}" id="componen_{$k}" checked="checked"|cond="in_array($k, $editor_config->enable_component_grant)" /> {$v->title}</label>
				</td>
				<td>
					<label loop="$group_list => $k, $v" for="comment_component_{$k}" class="x_inline"><input type="checkbox" name="enable_comment_component_grant[]" value="{$k}" id="comment_component_{$k}" checked="checked"|cond="in_array($k, $editor_config->enable_comment_component_grant)" /> {$v->title}</label>
				</td>
			</tr>
		</tbody>
	</table>
	<div class="x_clearfix">
		<button class="x_btn x_btn-primary x_pull-right" type="submit">{$lang->cmd_save}</button>
	</div>
</form>

<script>
jQuery(function($){
	var editor_skiin_module_cfg = $('tr.editor_skin');
	if($('#default_editor_settings').prop( 'checked' ))
	{
		editor_skiin_module_cfg.hide();
	}
	$('#default_editor_settings').change(function(){
		if($(this).prop( 'checked' )){
			editor_skiin_module_cfg.slideUp(200);
		} else {
			editor_skiin_module_cfg.slideDown(200);
		}
	});
});
</script>
