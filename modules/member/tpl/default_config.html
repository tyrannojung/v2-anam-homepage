<include target="header.html" />
<load target="js/default_config.js" />
<form action="./" class="x_form-horizontal" ruleset="insertDefaultConfig" method="post">
	<input type="hidden" name="module" value="member" />
	<input type="hidden" name="act" value="procMemberAdminInsertDefaultConfig" />
	<input type="hidden" name="success_return_url" value="{getUrl('', 'module', 'admin', 'act', $act)}" />
	<input type="hidden" name="xe_validator_id" value="modules/member/tpl/1" />
	<div class="x_control-group">
		<label class="x_control-label" for="member_mid">{$lang->url}</label>
		<div class="x_controls">
			<span class="baseurl" style="display:inline-block;transform:translateY(2px)">
				{$site_module_info->security === 'always' ? 'https://' : 'http://'}{$site_module_info->domain}{\RX_BASEURL}<!--@if(!config('url.rewrite'))-->index.php?mid=<!--@endif-->
			</span>
			<input type="text" name="member_mid" id="member_mid" value="{$config->mid ?? 'member'}" />
			&nbsp;
			<label class="x_inline" for="force_mid">
				<input type="checkbox" name="force_mid" id="force_mid" value="Y" checked="checked"|cond="!empty($config->force_mid)" />
				{$lang->cmd_force_member_mid}
			</label>
			<p class="x_help-block" style="margin-top:10px">{$lang->about_mid}</p>
		</div>
	</div>
	<div class="x_control-group">
		<div class="x_control-label">{$lang->enable_join}</div>
		<div class="x_controls">
			<label class="x_inline" for="enable_join_yes"><input type="radio" name="enable_join" id="enable_join_yes" value="Y" checked="checked"|cond="$config->enable_join == 'Y'" /> {$lang->cmd_yes}</label>
			<label class="x_inline" for="enable_join_no"><input type="radio" name="enable_join" id="enable_join_no" value="N" checked="checked"|cond="$config->enable_join != 'Y' && empty($config->enable_join_key)" /> {$lang->cmd_no}</label>
			<label class="x_inline" for="enable_join_only_with_key"><input type="radio" name="enable_join" id="enable_join_only_with_key" value="KEY" checked="checked"|cond="$config->enable_join != 'Y' && !empty($config->enable_join_key)" /> {$lang->enable_join_only_with_url_key}</label>
			<input type="text" name="enable_join_key" id="enable_join_key" value="{$config->enable_join_key ?? ''}" placeholder="{$lang->enable_join_url_key}" style="display:none"|cond="empty($config->enable_join_key)" />
			<p class="x_help-block">{$lang->about_enable_join}</p>
		</div>
	</div>
	<div class="x_control-group">
		<div class="x_control-label">{$lang->enable_confirm}</div>
		<div class="x_controls">
			<label class="x_inline" for="enable_confirm_yes"><input type="radio" name="enable_confirm" id="enable_confirm_yes" value="Y" checked="checked"|cond="$config->enable_confirm == 'Y'" /> {$lang->cmd_yes}</label>
			<label class="x_inline" for="enable_confirm_no"><input type="radio" name="enable_confirm" id="enable_confirm_no" value="N" checked="checked"|cond="$config->enable_confirm != 'Y'"/> {$lang->cmd_no}</label>
			<p class="x_help-block">{$lang->about_enable_confirm}</p>
		</div>
	</div>
	<div class="x_control-group">
		<label class="x_control-label">{$lang->cmd_authmail_expires}</label>
		<div class="x_controls">
			<input type="number" name="authmail_expires" value="{$config->authmail_expires ?: 1}" />
			<select name="authmail_expires_unit" style="width:auto;min-width:0">
				<option value="86400" selected="selected"|cond="$config->authmail_expires_unit == 86400">{$lang->unit_day}</option>
				<option value="3600" selected="selected"|cond="$config->authmail_expires_unit == 3600">{$lang->unit_hour}</option>
				<option value="60" selected="selected"|cond="$config->authmail_expires_unit == 60">{$lang->unit_min}</option>
				<option value="1" selected="selected"|cond="$config->authmail_expires_unit == 1">{$lang->unit_sec}</option>
			</select>
			<p class="x_help-block">{$lang->about_authmail_expires}</p>
		</div>
	</div>
	<div class="x_control-group">
		<div class="x_control-label">{$lang->cmd_member_profile_view}</div>
		<div class="x_controls">
			<label class="x_inline" for="member_profile_view_yes"><input type="radio" name="member_profile_view" id="member_profile_view_yes" value="Y" checked="checked"|cond="$config->member_profile_view == 'Y'" /> {$lang->cmd_yes}</label>
			<label class="x_inline" for="member_profile_view_no"><input type="radio" name="member_profile_view" id="member_profile_view_no" value="N" checked="checked"|cond="$config->member_profile_view != 'Y'"/> {$lang->cmd_no}</label>
			<p class="x_help-block">{$lang->about_member_profile_view}</p>
		</div>
	</div>
	<div class="x_control-group">
		<div class="x_control-label">{$lang->cmd_modify_nickname_allow}</div>
		<div class="x_controls">
			<label class="x_inline" for="allow_nickname_change_yes"><input type="radio" name="allow_nickname_change" id="allow_nickname_change_yes" value="Y" checked="checked"|cond="$config->allow_nickname_change != 'N'" /> {$lang->cmd_yes}</label>
			<label class="x_inline" for="allow_nickname_change_no"><input type="radio" name="allow_nickname_change" id="allow_nickname_change_no" value="N" checked="checked"|cond="$config->allow_nickname_change == 'N'"/> {$lang->cmd_no}</label>
			<p class="x_help-block">{$lang->about_allow_nickname_change}</p>
		</div>
	</div>
	<div class="x_control-group">
		<div class="x_control-label">{$lang->cmd_modify_nickname_log}</div>
		<div class="x_controls">
			<label class="x_inline" for="update_nickname_log_yes"><input type="radio" name="update_nickname_log" id="update_nickname_log_yes" value="Y" checked="checked"|cond="$config->update_nickname_log == 'Y'" /> {$lang->cmd_yes}</label>
			<label class="x_inline" for="update_nickname_log_no"><input type="radio" name="update_nickname_log" id="update_nickname_log_no" value="N" checked="checked"|cond="$config->update_nickname_log != 'Y'"/> {$lang->cmd_no}</label>
			<p class="x_help-block">{$lang->about_update_nickname_log}</p>
		</div>
	</div>
	<div class="x_control-group">
		<div class="x_control-label">{$lang->cmd_nickname_symbols}</div>
		<div class="x_controls">
			<label class="x_inline" for="nickname_symbols_yes"><input type="radio" name="nickname_symbols" id="nickname_symbols_yes" value="Y" checked="checked"|cond="$config->nickname_symbols == 'Y' || !isset($config->nickname_symbols)" /> {$lang->cmd_yes}</label>
			<label class="x_inline" for="nickname_symbols_no"><input type="radio" name="nickname_symbols" id="nickname_symbols_no" value="N" checked="checked"|cond="$config->nickname_symbols == 'N'"/> {$lang->cmd_no}</label>
			<label class="x_inline" for="nickname_symbols_list"><input type="radio" name="nickname_symbols" id="nickname_symbols_list" value="LIST" checked="checked"|cond="$config->nickname_symbols == 'LIST'"/> {$lang->cmd_nickname_symbols_list}</label>
			<input type="text" name="nickname_symbols_allowed_list" value="{$config->nickname_symbols_allowed_list ?: ''}" />
			<p class="x_help-block">{$lang->about_nickname_symbols}</p>
		</div>
	</div>
	<div class="x_control-group" style="display:none"|cond="$config->allow_duplicate_nickname != 'Y'">
		<div class="x_control-label">{$lang->cmd_allow_duplicate_nickname}</div>
		<div class="x_controls">
			<label class="x_inline" for="allow_duplicate_nickname_yes"><input type="radio" name="allow_duplicate_nickname" id="allow_duplicate_nickname_yes" value="Y" checked="checked"|cond="$config->allow_duplicate_nickname == 'Y'" /> {$lang->cmd_yes}</label>
			<label class="x_inline" for="allow_duplicate_nickname_no"><input type="radio" name="allow_duplicate_nickname" id="allow_duplicate_nickname_no" value="N" checked="checked"|cond="$config->allow_duplicate_nickname != 'Y'"/> {$lang->cmd_no}</label>
			<p class="x_help-block">{$lang->about_allow_duplicate_nickname}</p>
		</div>
	</div>
	<div class="x_control-group">
		<div class="x_control-label">{$lang->cmd_config_password_strength}</div>
		<div class="x_controls">
			<label class="x_inline" for="password_strength1"><input type="radio" name="password_strength" id="password_strength1" value="low" checked="checked"|cond="$config->password_strength == 'low'" /> {$lang->password_strength_low}({$lang->about_password_strength['low']})</label><br>
			<label class="x_inline" for="password_strength2"><input type="radio" name="password_strength" id="password_strength2" value="normal" checked="checked"|cond="!$config->password_strength || $config->password_strength == 'normal'"/> {$lang->password_strength_normal}({$lang->about_password_strength['normal']})</label><br>
			<label class="x_inline" for="password_strength3"><input type="radio" name="password_strength" id="password_strength3" value="high" checked="checked"|cond="$config->password_strength == 'high'"/> {$lang->password_strength_high}({$lang->about_password_strength['high']})</label><br>
			<p class="x_help-block">{$lang->about_password_strength_config}</p>
		</div>
	</div>
	<div class="x_control-group">
		<label class="x_control-label">{$lang->cmd_password_hashing_algorithm}</label>
		<div class="x_controls">
			<select name="password_hashing_algorithm" id="password_hashing_algorithm" style="width:auto">
				<!--@foreach($password_hashing_algos as $key => $val)-->
					<option value="{$key}" selected="selected"|cond="$config->password_hashing_algorithm === $key" disabled="disabled"|cond="$val === false">{$val ?: $key}</option>
				<!--@endforeach-->
			</select>
			<p class="x_help-block">{$lang->about_password_hashing_algorithm}</p>
		</div>
	</div>
	<div class="x_control-group">
		<label class="x_control-label">{$lang->cmd_password_hashing_work_factor}</label>
		<div class="x_controls">
			<select name="password_hashing_work_factor" id="password_hashing_work_factor" style="width:auto">
				<option value="{$i}" selected="selected"|cond="$config->password_hashing_work_factor==$i" loop="$i=4;$i<=16;$i++">{sprintf('%02d', $i)}</option>
			</select>
			<p class="x_help-block">{$lang->about_password_hashing_work_factor}</p>
		</div>
	</div>
	<div class="x_control-group">
		<label class="x_control-label">{$lang->cmd_password_hashing_auto_upgrade}</label>
		<div class="x_controls">
			<label for="password_hashing_auto_upgrade_y" class="x_inline"><input type="radio" name="password_hashing_auto_upgrade" id="password_hashing_auto_upgrade_y" value="Y" checked="checked"|cond="$config->password_hashing_auto_upgrade == 'Y'" /> {$lang->cmd_yes}</label>
			<label for="password_hashing_auto_upgrade_n" class="x_inline"><input type="radio" name="password_hashing_auto_upgrade" id="password_hashing_auto_upgrade_n" value="N" checked="checked"|cond="$config->password_hashing_auto_upgrade != 'Y'" /> {$lang->cmd_no}</label>
			<p class="x_help-block">{$lang->about_password_hashing_auto_upgrade}</p>
		</div>
	</div>
	<div class="x_control-group">
		<label class="x_control-label">{$lang->cmd_password_change_invalidate_other_sessions}</label>
		<div class="x_controls">
			<label for="password_change_invalidate_other_sessions_y" class="x_inline"><input type="radio" name="password_change_invalidate_other_sessions" id="password_change_invalidate_other_sessions_y" value="Y" checked="checked"|cond="$config->password_change_invalidate_other_sessions == 'Y'" /> {$lang->cmd_yes}</label>
			<label for="password_change_invalidate_other_sessions_n" class="x_inline"><input type="radio" name="password_change_invalidate_other_sessions" id="password_change_invalidate_other_sessions_n" value="N" checked="checked"|cond="$config->password_change_invalidate_other_sessions != 'Y'" /> {$lang->cmd_no}</label>
			<p class="x_help-block">{$lang->about_password_change_invalidate_other_sessions}</p>
		</div>
	</div>
	<div class="x_control-group">
		<label class="x_control-label">{$lang->cmd_password_reset_method}</label>
		<div class="x_controls">
			<label for="password_reset_method_v2" class="x_inline"><input type="radio" name="password_reset_method" id="password_reset_method_v2" value="2" checked="checked"|cond="$config->password_reset_method == 2" /> {$lang->cmd_password_reset_method_v2}</label>
			<label for="password_reset_method_v1" class="x_inline"><input type="radio" name="password_reset_method" id="password_reset_method_v1" value="1" checked="checked"|cond="$config->password_reset_method != 2" /> {$lang->cmd_password_reset_method_v1}</label>
			<p class="x_help-block">{$lang->about_password_reset_method}</p>
		</div>
	</div>
	<div class="x_control-group">
		<label class="x_control-label" for="member_sync">{$lang->cmd_member_sync}</label>
		<div class="x_controls">
			<input id="member_sync" type="button" value="{$lang->cmd_member_sync}" class="__sync x_btn x_btn-warning" />
			<p class="x_help-inline">{$lang->about_member_sync}</p>
		</div>
	</div>
	<div class="btnArea x_clearfix">
		<span class="x_pull-right"><input class="x_btn x_btn-primary" type="submit" value="{$lang->cmd_save}" /></span>
	</div>
</form>
